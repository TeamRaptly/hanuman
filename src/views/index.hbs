
<body>
	<div id="root">{{{reactApp}}}</div>
	<script>
		window.__initialState = {{{initialState}}}
	</script>
	<!-- Client bundle generated by webpack -->
	<script src='/public/react-material.bundle.js'></script>
	<script src='/public/vendor.bundle.js'></script>
	<script src='/public/common.bundle.js'></script>
	
	{{#each bundles}}
    <script src="/public/{{this}}.bundle.js"></script>
  {{/each}}
	<script src='/public/client.bundle.js'></script>
	<script>
		// Check that service workers are supported
		if ('serviceWorker' in navigator) {
			// Use the window load event to keep the page load performant
			window.addEventListener('load', () => {
				console.log('loading service worker....');
				navigator.serviceWorker
					.register('/public/service-worker.js')
					.then((registration) => {
						console.log('SW registered with scope:', registration.scope);
					})
					.catch((err) => {
						console.error('Registration failed:', err);
					});
			});
		}
	</script>
</body>