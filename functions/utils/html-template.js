// Template file that the server will use to inject the React markup and
// initial state before sending it to the client
const serialize = require('serialize-javascript');

const template = (opts) => {
  return `
    <!DOCTYPE html>
    <html>
      <head>
        <title>${opts.title}</title>
        <meta
          name="viewport"
          content="minimum-scale=1, initial-scale=1, width=device-width"
        />
        <!-- Roboto fonts google -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/styles.css" />
        ${opts.styles}
      </head>
      <body>
        <div id="root">${opts.body}</div>
      </body>
      <script>
        window.__initialState = ${serialize(opts.initialState)}
      </script>
      <!-- Client bundle generated by webpack -->
      <script src='/assets/client.bundle.js'></script>
    </html>
    `;
};

module.exports = { template };
